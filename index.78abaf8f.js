const e=document.getElementById("search-form"),t=document.querySelector(".gallery"),n=document.querySelector(".load-more");let a=1;async function o(e,a=1){const o=`https://pixabay.com/api/?key=39441278-dab432af90fd5d2445b56ddfd&q=${e}&image_type=photo&orientation=horizontal&safesearch=true&page=${a}&per_page=40`;try{const e=await fetch(o),s=await e.json();1===a&&(t.innerHTML=""),0===s.hits.length?alert("Przepraszamy, nie znaleziono obrazków pasujących do zapytania."):(s.hits.forEach((e=>{const n=i(e);t.appendChild(n)})),n.style.display="block",40*a>=s.totalHits&&(n.style.display="none",alert("Przepraszamy, osiągnąłeś koniec wyników wyszukiwania.")))}catch(e){console.error("Wystąpił błąd podczas pobierania obrazków:",e),alert("Wystąpił błąd podczas pobierania obrazków. Spróbuj ponownie później.")}}function i(e){const t=document.createElement("div");t.classList.add("photo-card");const n=document.createElement("img");n.src=e.webformatURL,n.alt=e.tags,n.loading="lazy";const a=document.createElement("div");a.classList.add("info");const o=document.createElement("p");o.classList.add("info-item"),o.innerHTML=`<b>Likes:</b> ${e.likes}`;const i=document.createElement("p");i.classList.add("info-item"),i.innerHTML=`<b>Views:</b> ${e.views}`;const s=document.createElement("p");s.classList.add("info-item"),s.innerHTML=`<b>Comments:</b> ${e.comments}`;const c=document.createElement("p");return c.classList.add("info-item"),c.innerHTML=`<b>Downloads:</b> ${e.downloads}`,a.appendChild(o),a.appendChild(i),a.appendChild(s),a.appendChild(c),t.appendChild(n),t.appendChild(a),t}e.addEventListener("submit",(async e=>{e.preventDefault(),a=1;const t=e.target.searchQuery.value;await o(t)})),n.addEventListener("click",(async()=>{a++;const t=e.searchQuery.value;await o(t,a)})),t.addEventListener("click",(function(e){if("IMG"===e.target.tagName){document.getElementById("modalImage"),document.getElementById("modalInfo");const t=e.target.parentElement;!function(e){const t=document.getElementById("modalImage"),n=document.getElementById("modalInfo");t.src=e.url,t.alt=e.alt,n.innerHTML=`\n    <p><b>Likes:</b> ${e.likes}</p>\n    <p><b>Views:</b> ${e.views}</p>\n    <p><b>Comments:</b> ${e.comments}</p>\n    <p><b>Downloads:</b> ${e.downloads}</p>\n  `}({url:e.target.src,alt:e.target.alt,likes:t.querySelector(".info-item.likes").textContent,views:t.querySelector(".info-item.views").textContent,comments:t.querySelector(".info-item.comments").textContent,downloads:t.querySelector(".info-item.downloads").textContent}),s.style.display="block"}}));const s=document.getElementById("imageModal");function c(){s.style.display="none"}document.querySelector(".close").addEventListener("click",c),s.addEventListener("click",(function(e){e.target===s&&c()}));
//# sourceMappingURL=index.78abaf8f.js.map
